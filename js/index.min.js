(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();function uniqArray(n){return n.filter((e,l,t)=>t.indexOf(e)===l)}class ScrollWatcher{constructor(e){let l={logging:!0};this.config=Object.assign(l,e),this.observer,document.documentElement.classList.contains("watcher")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(e){e.length&&uniqArray(Array.from(e).map(function(t){if(t.dataset.flsWatcher==="navigator"&&!t.dataset.flsWatcherThreshold){let r;t.clientHeight>2?(r=window.innerHeight/2/(t.clientHeight-1),r>1&&(r=1)):r=1,t.setAttribute("data-fls-watcher-threshold",r.toFixed(2))}return`${t.dataset.flsWatcherRoot?t.dataset.flsWatcherRoot:null}|${t.dataset.flsWatcherMargin?t.dataset.flsWatcherMargin:"0px"}|${t.dataset.flsWatcherThreshold?t.dataset.flsWatcherThreshold:0}`})).forEach(t=>{let r=t.split("|"),o={root:r[0],margin:r[1],threshold:r[2]},c=Array.from(e).filter(function(s){let i=s.dataset.flsWatcherRoot?s.dataset.flsWatcherRoot:null,h=s.dataset.flsWatcherMargin?s.dataset.flsWatcherMargin:"0px",d=s.dataset.flsWatcherThreshold?s.dataset.flsWatcherThreshold:0;if(String(i)===o.root&&String(h)===o.margin&&String(d)===o.threshold)return s}),a=this.getScrollWatcherConfig(o);this.scrollWatcherInit(c,a)})}getScrollWatcherConfig(e){let l={};if(document.querySelector(e.root)?l.root=document.querySelector(e.root):e.root,l.rootMargin=e.margin,!(e.margin.indexOf("px")<0&&e.margin.indexOf("%")<0)){if(e.threshold==="prx"){e.threshold=[];for(let t=0;t<=1;t+=.005)e.threshold.push(t)}else e.threshold=e.threshold.split(",");return l.threshold=e.threshold,l}}scrollWatcherCreate(e){this.observer=new IntersectionObserver((l,t)=>{l.forEach(r=>{this.scrollWatcherCallback(r,t)})},e)}scrollWatcherInit(e,l){this.scrollWatcherCreate(l),e.forEach(t=>this.observer.observe(t))}scrollWatcherIntersecting(e,l){e.isIntersecting?l.classList.contains("--watcher-view")||l.classList.add("--watcher-view"):l.classList.contains("--watcher-view")&&l.classList.remove("--watcher-view")}scrollWatcherOff(e,l){l.unobserve(e)}scrollWatcherCallback(e,l){const t=e.target;this.scrollWatcherIntersecting(e,t),t.hasAttribute("data-fls-watcher-once")&&e.isIntersecting&&this.scrollWatcherOff(t,l),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:e}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new ScrollWatcher({}));
